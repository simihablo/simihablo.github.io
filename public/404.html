
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Single Page Apps for GitHub Pages</title>
      <script type="text/javascript">
        // Single Page Apps for GitHub Pages
        // MIT License
        // https://github.com/rafgraph/spa-github-pages
        (function(l) {
          if (l.search[1] === '/') {
            var decoded = l.search.slice(1).split('&').map(function(s) { 
              return s.replace(/~and~/g, '&');
            }).join('?');
      
            // Construct the new URL using the current origin
            var newUrl = l.origin + l.pathname.slice(0, -1) + decoded + l.hash;
      
            try {
              var newUrlObj = new URL(newUrl);
              // Only allow update if the new URL matches the current origin
              if (newUrlObj.origin === window.location.origin) {
                window.history.replaceState(null, null, newUrlObj.href);
              }
            } catch (e) {
              console.warn('Invalid redirect URL', e);
            }
          }
        }(window.location));
      </script>

  </head>
  <body>
    <script type="text/javascript">
      // Immediately redirect to index.html with the path as a query parameter
      var pathSegmentsToKeep = 0;
      var l = window.location;
      l.replace(
        l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
        l.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/') + '/?/' +
        l.pathname.slice(1).split('/').slice(pathSegmentsToKeep).join('/').replace(/&/g, '~and~') +
        (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
        l.hash
      );
    </script>
  </body>
</html>
